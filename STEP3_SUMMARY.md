## 요구사항
### 지하철 구간 등록 기능 구현
- 인수테스트 작성하기
    + 성공하는 테스트 작성
    + 예외처리 테스트 작성

### 요구사항 도출
- 지하철 구간을 등록한다.
    + 케이스 1 : 신규 구간의 상행역은 기존 노선 역에 포함되어 있고 하행역은 포함되어 있지 않음.
        * 상세 케이즈 1-1 : 기존 노선에 존재하는 신규 상행역을 기점으로 신규 하행역까지의 거리 위치가 기존 구간 중간에 위치 할 경우
            - 신규 구간의 상행역을 포함된 구간의 상행역으로 수정하고 거리를 수정한다.
            - 포함되는 구간의 상행역을 신규 하행역으로 수정하고 거리를 수정한다
        * 상세 케이즈 1-2 : 기존 노선에 존재하는 신규 상행역을 기점으로 신규 하행역까지의 거리 위치가 기존 구간을 벗어난 경우
            - 신규 구간의 상행역을 기존 구간의 최종 하행역으로 수정하고 거리를 수정한다.
        * 상세 케이즈 1-3 : 기존 노선에 존재하는 신규 상행역을 기점으로 신규 하행역까지의 거리에 기존 역이 위치할 경우 -> _**등록 불가**_
    + 케이스 2 : 신규 구간의 상행역은 기존 노선 역에 포함되어 있지 않고 하행역은 포함되어 있음.
        * 상세 케이즈 1-1 : 기존 노선에 존재하는 신규 하행역을 기점으로 신규 상행역까지의 거리 위치가 기존 구간 중간에 위치 할 경우
            - 포함되는 구간의 하행역을 신규 상행역으로 수정하고 거리를 수정한다
            - 신규 구간의 하행역을 포함된 구간의 하행역으로 수정하고 거리를 수정한다.
        * 상세 케이즈 1-2 : 기존 노선에 존재하는 신규 하행역을 기점으로 신규 상행역까지의 거리 위치가 기존 구간을 벗어난 경우
            - 신규 구간의 하행역을 기존 구간의 최종 상행역으로 수정하고 거리를 수정한다.
        * 상세 케이즈 1-3 : 기존 노선에 존재하는 신규 하행역을 기점으로 신규 상행역까지의 거리에 기존 역이 위치할 경우 -> _**등록 불가**_
    + 케이스 3 : 신규 구간의 상하행역이 기존 노선 역에 모두 포함되어 있는 경우. -> _**등록 불가**_
    + 케이스 4 : 신규 구간의 상하행역이 기존 노선 역에 모두 포함되어 있지 않은 경우. -> _**등록 불가**_   
    
### 인수테스트 도출
- 신규 생성 노선에 구간 추가등록
    - 역이 등록되어 있다.
    - 노선이 등록되어 있다(신규 구간 포함)
    - 구간 생성 요청한다.
    - 구간 생성 요청 확인.

- 기존에 등록된 구간들 중간에 신규 구간 추가등록(상행, 하행역 기준 각각)
    - 역이 등록되어 있다.
    - 노선이 등록되어 있다.
    - 구간 생성 요청한다.
    - 구간 생성 요청 확인.
    - 등록된 역 순서 확인.

- 신규 구간을 기존에 등록된 구간들 가장 앞, 뒤에 추가등록(각각 작성)
    - 역이 등록되어 있다.
    - 노선이 등록되어 있다.
    - 구간 생성 요청한다.
    - 구간 가장 앞에 생성 요청 확인.
    - 등록된 역 순서 확인.

- 등록하려는 구간에 포함된 두개 역이 모두 기존 구간에 등록되어 있을 경우 에외처리.
    - 역이 등록되어 있다.
    - 노선이 등록되어 있다.
    - 구간 생성 요청한다.
    - 이미 존재하는 구간 생성 요청 실패.
    - 오류메시지 확인.
    
- 상행역 기준으로 하행역과 동일한 거리에 이미 역이 존재할 경우 예외발생
    - 역이 등록되어 있다.
    - 노선이 등록되어 있다.
    - 구간 생성 요청한다.
    - 상행역기준 하행역 위치거리에 역이 존재할 경우 추가등록 실패.
    - 오류메시지 확인.

- 하행역 기준으로 상행역과 동일한 거리에 이미 역이 존재할 경우 예외발생
    - 역이 등록되어 있다.
    - 노선이 등록되어 있다.
    - 구간 생성 요청한다.
    - 하행역기준 상행역 위치거리에 역이 존재할 경우 추가등록 실패.
    - 오류메시지 확인.
    
- 등록하려는 구간에 포함된 두 역이 기존 구간에 등록되지 않은 역일 경우 예외처리
    - 역이 등록되어 있다.
    - 노선이 등록되어 있다.
    - 구간 생성 요청한다.
    - 기존 구간에 등록되지 않은 역들 추가등록 실패.
    - 오류메시지 확인.

